## kind
kindのインストール

```
brew install kind
```

kindのClusterを作成
```
kind create cluster --config kind/config.yaml
```

## protobuf

参考) https://zenn.dev/hsaki/books/golang-grpc-starting/viewer/codegenerate

protobufのインストール
```
brew install protobuf
```

go moduleのインストール
```
cd server
go mod init server
go install google.golang.org/grpc
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc
```

ディレクトリの作成
```
mkdir server/pkg/grpc
```

コード生成
```
protoc --go_out=../server/pkg/grpc --go_opt=paths=source_relative --go-grpc_out=../server/pkg/grpc --go-grpc_opt=paths=source_relative game.proto
```

json tagのomitemptyを削除
```
find server/pkg/grpc -type f -name '*.pb.go' | xargs sed -i -e 's/,omitempty//g'
```

grpccurlのインストール
```
brew install grpcurl
```

game.GameServiceが持つメソッドの確認
```
➜ grpcurl -plaintext localhost:28080 list game.GameService
game.GameService.Move
game.GameService.MoveServerStream
```

## Docker

Dockerイメージのビルド
```
docker build . -t localimage/grpc-server:0.1
```